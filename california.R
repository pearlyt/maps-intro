
R version 3.0.1 (2013-05-16) -- "Good Sport"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin10.8.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> data <- read.delim("merged-multirace.txt")
Error in file(file, "rt") : cannot open the connection
In addition: Warning message:
  In file(file, "rt") :
  cannot open file 'merged-multirace.txt': No such file or directory
> setwd("/~dataviz-fall-2013/maps-intro")
Error in setwd("/~dataviz-fall-2013/maps-intro") : 
  cannot change working directory
> setwd("~/dataviz-fall-2013/maps-intro")
> data <- read.delim("merged-multirace.txt")
> plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
Error in plot(sf$year, sf$pcthispanic, type = "l", ylim = c(0, max(data$pcthispanic)),  : 
                object 'sf' not found
              > sf <- subset(data, county == "San Francisco")
              > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
              > sf <- sf[order(sf$year), ]
              > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
              > View(data)
              > View(sf)
              > head(data)
              county totalpop  pctwhite    pctblack    pctamind
              1   Alameda  1510271 0.3407064 0.121915868 0.002773674
              2    Alpine     1175 0.7251064 0.000000000 0.178723404
              3    Amador    38091 0.7961198 0.024625240 0.014360348
              4     Butte   220000 0.7518909 0.014240909 0.015431818
              5 Calaveras    45578 0.8353592 0.007788845 0.011540656
              6    Colusa    21419 0.3979644 0.007843503 0.013819506
              pctasian   pctother pcthispanic year fips
              1 0.266478665 0.04307373  0.22505166 2010 6001
              2 0.005957447 0.01872340  0.07148936 2010 6003
              3 0.012050091 0.02798561  0.12485889 2010 6005
              4 0.042372727 0.03462727  0.14143636 2010 6007
              5 0.013164246 0.02896134  0.10318575 2010 6009
              6 0.015220132 0.01405294  0.55109949 2010 6011
              > subset(y2020,pctwhite == max(ydata$pctwhite))
              Error in subset(y2020, pctwhite == max(ydata$pctwhite)) : 
                object 'y2020' not found
              > y2020 <- subset(data, year ==2020)
              > subset(y2020,pctwhite == max(ydata$pctwhite))
              Error in eval(expr, envir, enclos) : object 'ydata' not found
              > y1980<-subset(data,year ==1980)
              > subset(y1980,pctasian ==max(ydata$pctasian))
              Error in eval(expr, envir, enclos) : object 'ydata' not found
              > subset(y1980,pctasian ==max(y1980$pctasian))
              county totalpop  pctwhite  pctblack pctamind
              212 San Francisco   678974 0.5230848 0.1249783        0
              pctasian   pctother pcthispanic year fips
              212 0.2142365 0.01490779   0.1227926 1980 6075
              > sf <- subset(data,county == "San Francisco")
              > plot(sf$year,sf$pctasian, type="1,ylim=c(0,max(data$pctasian)), main="Asians in San Francisco County
                     Error: unexpected symbol in "plot(sf$year,sf$pctasian, type="1,ylim=c(0,max(data$pctasian)), main="Asians"
                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,max(data$pctasian)), main="Asians in San Francisco County")
                     > plot(sf$year,sf$pcthispanic, type="1")
                     Error in plot.xy(xy, type, ...) : invalid plot type '1'
                     > sf <- sf[order(sf$year), ]
                     > plot(sf$year, sf$pctasians, type="l", ylim=c(0,max(data$pctasians)), main="Asians in San Francisco County")
                     Error in plot.window(...) : need finite 'ylim' values
                     In addition: Warning message:
                       In max(data$pctasians) : no non-missing arguments to max; returning -Inf
                     > sf <- sf[order(sf$year), ]
                     > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                     > sf <- sf[order(sf$year), ]
                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,max(data$pctasian)), main="Asians in San Francisco County")
                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,5(data$pctasian)), main="Asians in San Francisco County")
                     Error in plot.default(sf$year, sf$pctasian, type = "l", ylim = c(0, 5(data$pctasian)),  : 
                                             attempt to apply non-function
                                           > plot(sf$year, sf$pctasian, type="l", ylim=c(0,max(data$pctasian)), main="Asians in San Francisco County")
                                           > plot(sf$year, sf$hispanic, type="1")
                                           Error in plot.xy(xy, type, ...) : invalid plot type '1'
                                           > plot(sf$year, sf$hispanic, type="l")
                                           > plot(sf$year, sf$hispanic, type="1"),ylim=c(0,max(data$pctasian)
                                                                                         Error: unexpected ',' in "plot(sf$year, sf$hispanic, type="1"),"
                                                                                         > plot(sf$year, sf$hispanic, type="1"),ylim=c(0,max(data$pcthispanic)
                                                                                                                                       Error: unexpected ',' in "plot(sf$year, sf$hispanic, type="1"),"
                                                                                                                                       > plot(sf$year, sf$hispanic, type="l"),ylim=c(0,max(data$pcthispanic)
                                                                                                                                                                                     Error: unexpected ',' in "plot(sf$year, sf$hispanic, type="l"),"
                                                                                                                                                                                     > head(data)
                                                                                                                                                                                     county totalpop  pctwhite    pctblack    pctamind
                                                                                                                                                                                     1   Alameda  1510271 0.3407064 0.121915868 0.002773674
                                                                                                                                                                                     2    Alpine     1175 0.7251064 0.000000000 0.178723404
                                                                                                                                                                                     3    Amador    38091 0.7961198 0.024625240 0.014360348
                                                                                                                                                                                     4     Butte   220000 0.7518909 0.014240909 0.015431818
                                                                                                                                                                                     5 Calaveras    45578 0.8353592 0.007788845 0.011540656
                                                                                                                                                                                     6    Colusa    21419 0.3979644 0.007843503 0.013819506
                                                                                                                                                                                     pctasian   pctother pcthispanic year fips
                                                                                                                                                                                     1 0.266478665 0.04307373  0.22505166 2010 6001
                                                                                                                                                                                     2 0.005957447 0.01872340  0.07148936 2010 6003
                                                                                                                                                                                     3 0.012050091 0.02798561  0.12485889 2010 6005
                                                                                                                                                                                     4 0.042372727 0.03462727  0.14143636 2010 6007
                                                                                                                                                                                     5 0.013164246 0.02896134  0.10318575 2010 6009
                                                                                                                                                                                     6 0.015220132 0.01405294  0.55109949 2010 6011
                                                                                                                                                                                     > sf <- sf[order(sf$year), ]
                                                                                                                                                                                     > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                                                                                                                                                                                     > data$hispanic_pop <- data$pcthispanic * data$totalpop
                                                                                                                                                                                     > head(data)
                                                                                                                                                                                     county totalpop  pctwhite    pctblack    pctamind
                                                                                                                                                                                     1   Alameda  1510271 0.3407064 0.121915868 0.002773674
                                                                                                                                                                                     2    Alpine     1175 0.7251064 0.000000000 0.178723404
                                                                                                                                                                                     3    Amador    38091 0.7961198 0.024625240 0.014360348
                                                                                                                                                                                     4     Butte   220000 0.7518909 0.014240909 0.015431818
                                                                                                                                                                                     5 Calaveras    45578 0.8353592 0.007788845 0.011540656
                                                                                                                                                                                     6    Colusa    21419 0.3979644 0.007843503 0.013819506
                                                                                                                                                                                     pctasian   pctother pcthispanic year fips hispanic_pop
                                                                                                                                                                                     1 0.266478665 0.04307373  0.22505166 2010 6001       339889
                                                                                                                                                                                     2 0.005957447 0.01872340  0.07148936 2010 6003           84
                                                                                                                                                                                     3 0.012050091 0.02798561  0.12485889 2010 6005         4756
                                                                                                                                                                                     4 0.042372727 0.03462727  0.14143636 2010 6007        31116
                                                                                                                                                                                     5 0.013164246 0.02896134  0.10318575 2010 6009         4703
                                                                                                                                                                                     6 0.015220132 0.01405294  0.55109949 2010 6011        11804
                                                                                                                                                                                     > subset(data,county =="Colusa" & year ==2010)
                                                                                                                                                                                     county totalpop  pctwhite    pctblack   pctamind   pctasian
                                                                                                                                                                                     6 Colusa    21419 0.3979644 0.007843503 0.01381951 0.01522013
                                                                                                                                                                                     pctother pcthispanic year fips hispanic_pop
                                                                                                                                                                                     6 0.01405294   0.5510995 2010 6011        11804
                                                                                                                                                                                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,max(data$pctasian)), main="Asians in San Francisco County")
                                                                                                                                                                                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), main="Asians in San Francisco County")
                                                                                                                                                                                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), xlim=c(1950,2050), main="Asians in San Francisco County")
                                                                                                                                                                                     > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), xlim=c(1975,2025), main="Asians in San Francisco County")
                                                                                                                                                                                     > plot(sf year, sf pctasian, type="l", ylim=c(0,0.5), xlim=c(1975,2025), main="Asians in San Francisco County")
                                                                                                                                                                                     Error: unexpected symbol in "plot(sf year"
                                                                                                                                                                                     > plot(sf year, sf pctasian, type="l", ylim=c(0,0.5), xlim=c(1975,2025), main="Asians in San Francisco County")
                                                                                                                                                                                     Error: unexpected symbol in "plot(sf year"
                                                                                                                                                                                     > data$asian_pop <- data$totalpop * data$pctasian
                                                                                                                                                                                     > sf <- sf[order(sf$year), ]
                                                                                                                                                                                     > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                                                                                                                                                                                     > data$hispanic_pop <- data$totalpop * data$pcthispanic
                                                                                                                                                                                     > data$asian_pop <- data$totalpop * data$pctasian
                                                                                                                                                                                     > data$black_pop <- data$totalpop * data$pctblack
                                                                                                                                                                                     > names(data)
                                                                                                                                                                                     [1] "county"       "totalpop"     "pctwhite"     "pctblack"    
                                                                                                                                                                                     [5] "pctamind"     "pctasian"     "pctother"     "pcthispanic" 
                                                                                                                                                                                     [9] "year"         "fips"         "hispanic_pop" "asian_pop"   
                                                                                                                                                                                     [13] "black_pop"   
                                                                                                                                                                                     > subset(y2010, white_pop == mac(y2010$ white_pop)
                                                                                                                                                                                              + total_ca_pop <- aggregate(data$totalpop, list(data$year), sum)
                                                                                                                                                                                              Error: unexpected symbol in:
                                                                                                                                                                                                "subset(y2010, white_pop == mac(y2010$ white_pop)
                                                                                                                                                                                              total_ca_pop"
                                                                                                                                                                                              > names(total_ca_pop)
                                                                                                                                                                                              Error: object 'total_ca_pop' not found
                                                                                                                                                                                              > names(total_ca_pop) <- c("year", "tot_ca_pop")
                                                                                                                                                                                              Error in names(total_ca_pop) <- c("year", "tot_ca_pop") : 
                                                                                                                                                                                                object 'total_ca_pop' not found
                                                                                                                                                                                              > total_ca_pop <- aggregate(data$totalpop, list(data$year), sum)
                                                                                                                                                                                              > names(total_ca_pop)
                                                                                                                                                                                              [1] "Group.1" "x"      
                                                                                                                                                                                              > names(total_ca_pop) <- c("year", "tot_ca_pop")
                                                                                                                                                                                              > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                              > sf <- sf[order(sf$year),]
                                                                                                                                                                                              > plot(sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)) )
                                                                                                                                                                                              > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                                                                                                                                                                                              > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                              > y2010 <- subset(data, year = 2010)
                                                                                                                                                                                              > subset(y2010, white_pop == mac(y2010$ white_pop)
                                                                                                                                                                                                       + subset(y2010, white_pop == mac(y2010$ white_pop))
                                                                                                                                                                                                       Error: unexpected symbol in:
                                                                                                                                                                                                         "subset(y2010, white_pop == mac(y2010$ white_pop)
                                                                                                                                                                                                       subset"
                                                                                                                                                                                                       > subset(y2010, white_pop == mac(y2010$ white_pop))
                                                                                                                                                                                                       Error in eval(expr, envir, enclos) : object 'white_pop' not found
                                                                                                                                                                                                       > subset(y2010, white_pop == max(y2010$ white_pop)
                                                                                                                                                                                                                + subset(y2010, white_pop == max(y2010$ white_pop))
                                                                                                                                                                                                                Error: unexpected symbol in:
                                                                                                                                                                                                                  "subset(y2010, white_pop == max(y2010$ white_pop)
                                                                                                                                                                                                                subset"
                                                                                                                                                                                                                > subset(y2010, white_pop == max(y2010$white_pop))
                                                                                                                                                                                                                Error in eval(expr, envir, enclos) : object 'white_pop' not found
                                                                                                                                                                                                                > head(data)
                                                                                                                                                                                                                county totalpop  pctwhite    pctblack    pctamind
                                                                                                                                                                                                                1   Alameda  1510271 0.3407064 0.121915868 0.002773674
                                                                                                                                                                                                                2    Alpine     1175 0.7251064 0.000000000 0.178723404
                                                                                                                                                                                                                3    Amador    38091 0.7961198 0.024625240 0.014360348
                                                                                                                                                                                                                4     Butte   220000 0.7518909 0.014240909 0.015431818
                                                                                                                                                                                                                5 Calaveras    45578 0.8353592 0.007788845 0.011540656
                                                                                                                                                                                                                6    Colusa    21419 0.3979644 0.007843503 0.013819506
                                                                                                                                                                                                                pctasian   pctother pcthispanic year fips hispanic_pop
                                                                                                                                                                                                                1 0.266478665 0.04307373  0.22505166 2010 6001       339889
                                                                                                                                                                                                                2 0.005957447 0.01872340  0.07148936 2010 6003           84
                                                                                                                                                                                                                3 0.012050091 0.02798561  0.12485889 2010 6005         4756
                                                                                                                                                                                                                4 0.042372727 0.03462727  0.14143636 2010 6007        31116
                                                                                                                                                                                                                5 0.013164246 0.02896134  0.10318575 2010 6009         4703
                                                                                                                                                                                                                6 0.015220132 0.01405294  0.55109949 2010 6011        11804
                                                                                                                                                                                                                asian_pop black_pop
                                                                                                                                                                                                                1    402455    184126
                                                                                                                                                                                                                2         7         0
                                                                                                                                                                                                                3       459       938
                                                                                                                                                                                                                4      9322      3133
                                                                                                                                                                                                                5       600       355
                                                                                                                                                                                                                6       326       168
                                                                                                                                                                                                                > data$hispanic_pop <- data$totalpop * data$pcthispanic
                                                                                                                                                                                                                > subset(y2010, hispanic_pop == max(y2010$white_pop))
                                                                                                                                                                                                                [1] county       totalpop     pctwhite     pctblack    
                                                                                                                                                                                                                [5] pctamind     pctasian     pctother     pcthispanic 
                                                                                                                                                                                                                [9] year         fips         hispanic_pop asian_pop   
                                                                                                                                                                                                                [13] black_pop   
                                                                                                                                                                                                                <0 rows> (or 0-length row.names)
                                                                                                                                                                                                                Warning message:
                                                                                                                                                                                                                  In max(y2010$white_pop) : no non-missing arguments to max; returning -Inf
                                                                                                                                                                                                                > subset(y2010, hispanic_pop == max(y2010$hispanic_pop))
                                                                                                                                                                                                                county totalpop  pctwhite   pctblack    pctamind
                                                                                                                                                                                                                251 Los Angeles 10441441 0.2430261 0.07449547 0.001980286
                                                                                                                                                                                                                pctasian   pctother pcthispanic year fips hispanic_pop
                                                                                                                                                                                                                251 0.142027 0.02498086   0.5134903 2020 6037      5361579
                                                                                                                                                                                                                asian_pop black_pop
                                                                                                                                                                                                                251   1482966  777840.1
                                                                                                                                                                                                                > subset(y2010, asian_pop == max(y2010$asian_pop))
                                                                                                                                                                                                                county totalpop  pctwhite   pctblack    pctamind
                                                                                                                                                                                                                251 Los Angeles 10441441 0.2430261 0.07449547 0.001980286
                                                                                                                                                                                                                pctasian   pctother pcthispanic year fips hispanic_pop
                                                                                                                                                                                                                251 0.142027 0.02498086   0.5134903 2020 6037      5361579
                                                                                                                                                                                                                asian_pop black_pop
                                                                                                                                                                                                                251   1482966  777840.1
                                                                                                                                                                                                                > subset(y2010, white_pop == max(y2010$white_pop))
                                                                                                                                                                                                                Error in eval(expr, envir, enclos) : object 'white_pop' not found
                                                                                                                                                                                                                > plot(sf year, sf pctasian, type="l", ylim=c(0,0.5), xlim=c(1975,2025), main="Asians in San Francisco County")
                                                                                                                                                                                                                Error: unexpected symbol in "plot(sf year"
                                                                                                                                                                                                                > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                                                > plot(sf year, sf pctasian, type="l", ylim=c(0,0.5), xlim=c(1975,2025), main="Asians in San Francisco County")
                                                                                                                                                                                                                Error: unexpected symbol in "plot(sf year"
                                                                                                                                                                                                                > data <- read.delim("merged-multirace.txt")
                                                                                                                                                                                                                > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                                                > sf <- sf[order(sf$year), ]
                                                                                                                                                                                                                > plot(sf$year, sf$pctasian, type="l", ylim=c(0,5), main="Asians in San Francisco County")
                                                                                                                                                                                                                > sf <- sf[order(sf$year), ]
                                                                                                                                                                                                                > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), main="Asians in San Francisco County")
                                                                                                                                                                                                                > sd <- subset(data, county == "San Diego")
                                                                                                                                                                                                                > sd <- sd[order(sd$year), ]
                                                                                                                                                                                                                > plot(sd$year, sd$pctasian, type="l", ylim=c(0,0.5), main="Asians in San Diego County")
                                                                                                                                                                                                                > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                                                > sf <- sf[order(sf$year), ]
                                                                                                                                                                                                                > sf <- sf[order(sf$year), ]
                                                                                                                                                                                                                > > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), main="Asians in San Francisco County")
                                                                                                                                                                                                                Error: unexpected '>' in ">"
                                                                                                                                                                                                                > plot(sf$year, sf$pctasian, type="l", ylim=c(0,0.5), main="Asians in San Francisco County")
                                                                                                                                                                                                                > aggregate(data$hispanic_pop, list(data$year),sum)
                                                                                                                                                                                                                Error in aggregate.data.frame(as.data.frame(x), ...) : 
                                                                                                                                                                                                                  no rows to aggregate
                                                                                                                                                                                                                > data <- data[order(data$hispanic_pop,decreasing=T,)]
                                                                                                                                                                                                                Error in order(data$hispanic_pop, decreasing = T, ) : 
                                                                                                                                                                                                                  argument is missing, with no default
                                                                                                                                                                                                                > data <- data[order(data$hispanic_pop,decreasing=T)]
                                                                                                                                                                                                                Error in order(data$hispanic_pop, decreasing = T) : 
                                                                                                                                                                                                                  argument 1 is not a vector
                                                                                                                                                                                                                > data$asian_pop <- data$totalpop * data$pctasian
                                                                                                                                                                                                                > ca_asian_pop <- aggregate(data$asian_pop, list(data$year), sum)
                                                                                                                                                                                                                > names(ca_asian_pop)
                                                                                                                                                                                                                [1] "Group.1" "x"      
                                                                                                                                                                                                                > head(asians_by_year)
                                                                                                                                                                                                                Error in head(asians_by_year) : object 'asians_by_year' not found
                                                                                                                                                                                                                > names(ca_asians_pop) <- c("year", "tot_asians_pop")
                                                                                                                                                                                                                Error in names(ca_asians_pop) <- c("year", "tot_asians_pop") : 
                                                                                                                                                                                                                  object 'ca_asians_pop' not found
                                                                                                                                                                                                                > names(ca_asian_pop) <- c("year", "tot_asian_pop")
                                                                                                                                                                                                                > head(ca_asian_pop)
                                                                                                                                                                                                                year tot_asian_pop
                                                                                                                                                                                                                1 1980       1349069
                                                                                                                                                                                                                2 1990       2710353
                                                                                                                                                                                                                3 2000       3752596
                                                                                                                                                                                                                4 2010       4903647
                                                                                                                                                                                                                5 2020       5432231
                                                                                                                                                                                                                > names(tot_ca_pop) <-("year","tot_ca_pop")
                                                                                                                                                                                                                Error: unexpected ',' in "names(tot_ca_pop) <-("year","
                                                                                                                                                                                                                > names(tot_ca_pop) <-c("year","tot_ca_pop")
                                                                                                                                                                                                                Error in names(tot_ca_pop) <- c("year", "tot_ca_pop") : 
                                                                                                                                                                                                                  object 'tot_ca_pop' not found
                                                                                                                                                                                                                > data$ca_pop <- data$totalpop * data$pctca
                                                                                                                                                                                                                Error in `$<-.data.frame`(`*tmp*`, "ca_pop", value = numeric(0)) : 
                                                                                                                                                                                                                  replacement has 0 rows, data has 290
                                                                                                                                                                                                                > ?aggregate
                                                                                                                                                                                                                > aggregate(data$hispanic_pop,list(data$year), mean)
                                                                                                                                                                                                                Error in aggregate.data.frame(as.data.frame(x), ...) : 
                                                                                                                                                                                                                  no rows to aggregate
                                                                                                                                                                                                                > data <- data[order]
                                                                                                                                                                                                                Error in `[.default`(data, order) : invalid subscript type 'closure'
                                                                                                                                                                                                                > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                                                > sf <- sf[order(sf$year), ]
                                                                                                                                                                                                                > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                                                                                                                                                                                                                > data$hispanic_pop <- data$totalpop * data$pcthispanic
                                                                                                                                                                                                                > data$black_pop <- data$totalpop * data$pctblack
                                                                                                                                                                                                                > data$white_pop <- data$totalpop * data$pctwhite
                                                                                                                                                                                                                > data$asian_pop <- data$totalpop * data$pctasian
                                                                                                                                                                                                                > names(data)
                                                                                                                                                                                                                [1] "county"       "totalpop"     "pctwhite"     "pctblack"    
                                                                                                                                                                                                                [5] "pctamind"     "pctasian"     "pctother"     "pcthispanic" 
                                                                                                                                                                                                                [9] "year"         "fips"         "asian_pop"    "hispanic_pop"
                                                                                                                                                                                                                [13] "black_pop"    "white_pop"   
                                                                                                                                                                                                                > ca_hispanic_pop <- aggregate(data$hispanic_pop, list(data$year), sum)
                                                                                                                                                                                                                > names(ca_hispanic_pop)
                                                                                                                                                                                                                [1] "Group.1" "x"      
                                                                                                                                                                                                                > names(ca_hispanic_pop) <- c("year", "tot_hisp_pop")
                                                                                                                                                                                                                > total_ca_pop <- aggregate(data$totalpop, list(data$year), sum)
                                                                                                                                                                                                                > names(total_ca_pop)
                                                                                                                                                                                                                [1] "Group.1" "x"      
                                                                                                                                                                                                                > names(total_ca_pop) <- c("year", "tot_ca_pop")
                                                                                                                                                                                                                > sf <- subset(data, county == "San Francisco")
                                                                                                                                                                                                                > sf <- sf[order(sf$year),]
                                                                                                                                                                                                                > plot(sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)) )
                                                                                                                                                                                                                > plot(sf$year, sf$pcthispanic, type="l", ylim=c(0,max(data$pcthispanic)), main="Hispanics in San Francisco County")
                                                                                                                                                                                                                > state_totals <- merge(total_ca_pop, ca_hispanic_pop, by="year")
                                                                                                                                                                                                                > head(state_totals)
                                                                                                                                                                                                                year tot_ca_pop tot_hisp_pop
                                                                                                                                                                                                                1 1980   23667902      4544331
                                                                                                                                                                                                                2 1990   29760021      7687938
                                                                                                                                                                                                                3 2000   33871648     10966556
                                                                                                                                                                                                                4 2010   37253956     14013719
                                                                                                                                                                                                                5 2020   40643643     16573840
                                                                                                                                                                                                                > state_totals$pcthispanic <- state_totals$tot_hisp_pop/state_totals$tot_ca_pop
                                                                                                                                                                                                                > state_totals
                                                                                                                                                                                                                year tot_ca_pop tot_hisp_pop pcthispanic
                                                                                                                                                                                                                1 1980   23667902      4544331   0.1920040
                                                                                                                                                                                                                2 1990   29760021      7687938   0.2583311
                                                                                                                                                                                                                3 2000   33871648     10966556   0.3237680
                                                                                                                                                                                                                4 2010   37253956     14013719   0.3761673
                                                                                                                                                                                                                5 2020   40643643     16573840   0.4077843
                                                                                                                                                                                                                > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                                > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                                > lines(sf$year, sf$pcthispanic)
                                                                                                                                                                                                                > ylim = c(0,0.5)
                                                                                                                                                                                                                > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=1.0), type="l", col="red", lwd=2)
                                                                                                                                                                                                       Error: unexpected ',' in "plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=1.0),"
                                                                                                                                                                                                       > lines(sf$year, sf$pcthispanic)
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,1.0), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > lines(sf$year, sf$pcthispanic)
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > lines(sf$year, sf$pcthispanic)
                                                                                                                                                                                                       > #selected county
                                                                                                                                                                                                         > county_name <- "San Francisco"
                                                                                                                                                                                                       > 
                                                                                                                                                                                                         > #filter
                                                                                                                                                                                                         > this_county <- subset(data, county == county_name)
                                                                                                                                                                                                       > 
                                                                                                                                                                                                         > #sort
                                                                                                                                                                                                         > this_county <- this_county[order(this_county$year),]
                                                                                                                                                                                                       > 
                                                                                                                                                                                                         > #initial plot command, with state totals in red
                                                                                                                                                                                                         > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > 
                                                                                                                                                                                                         > #this county.
                                                                                                                                                                                                         > lines(this_county$year, this_county$pcthispanic)
                                                                                                                                                                                                       > plot_lines_for_county <- function(county) {
                                                                                                                                                                                                         +     county_name <- county
                                                                                                                                                                                                         +     this_county <- subset(data, county == county_name)
                                                                                                                                                                                                         +     this_county <- this_county[order(this_county$year),]
                                                                                                                                                                                                         +     lines(this_county$year, this_county$pcthispanic)
                                                                                                                                                                                                         + }
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Los Angeles")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("San Luis Obispo")
                                                                                                                                                                                                       > plot_lines_for_county("Tahoe")
                                                                                                                                                                                                       > plot_lines_for_county("Santa Cruz")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Marin")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("New York")
                                                                                                                                                                                                       > plot_lines_for_county("Orange")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("San Diego")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Alameda")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,max(data$pcthispanic)), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Marin")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,0.7), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Marin")
                                                                                                                                                                                                       > plot(state_totals$year, state_totals$pcthispanic, main="Calif. pct Hispanic", ylim=c(0,0.5), type="l", col="red", lwd=2)
                                                                                                                                                                                                       > plot_lines_for_county("Marin")
                                                                                                                                                                                                       > install.packages("maptools")
                                                                                                                                                                                                       also installing the dependency sp
                                                                                                                                                                                                       
                                                                                                                                                                                                       trying URL 'http://cran.rstudio.com/bin/macosx/contrib/3.0/sp_1.0-13.tgz'
                                                                                                                                                                                                       Content type 'application/x-gzip' length 1469907 bytes (1.4 Mb)
                                                                                                                                                                                                       opened URL
                                                                                                                                                                                                       ==================================================
                                                                                                                                                                                                         downloaded 1.4 Mb
                                                                                                                                                                                                       
                                                                                                                                                                                                       trying URL 'http://cran.rstudio.com/bin/macosx/contrib/3.0/maptools_0.8-27.tgz'
                                                                                                                                                                                                       Content type 'application/x-gzip' length 1685966 bytes (1.6 Mb)
                                                                                                                                                                                                       opened URL
                                                                                                                                                                                                       ==================================================
                                                                                                                                                                                                         downloaded 1.6 Mb
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       The downloaded binary packages are in
                                                                                                                                                                                                       /var/folders/7j/dgr8p5yx7c37h_41tv2gg6w00000gn/T//Rtmpi9TxYL/downloaded_packages
                                                                                                                                                                                                       > library(maptools)
                                                                                                                                                                                                       Loading required package: sp
                                                                                                                                                                                                       Checking rgeos availability: FALSE
                                                                                                                                                                                                       Note: when rgeos is not available, polygon geometry 	computations in maptools depend on gpclib,
                                                                                                                                                                                                       which has a restricted licence. It is disabled by default;
                                                                                                                                                                                                       to enable gpclib, type gpclibPermit()
                                                                                                                                                                                                       > shapes <-readShapePoly("shapes/ca/counties.shp")
                                                                                                                                                                                                       > plotshapes
                                                                                                                                                                                                       Error: object 'plotshapes' not found
                                                                                                                                                                                                       > plotShapes
                                                                                                                                                                                                       Error: object 'plotShapes' not found
                                                                                                                                                                                                       > plot(shapes)
                                                                                                                                                                                                       > axis(1)
                                                                                                                                                                                                       > title("How awesome is this?!")
                                                                                                                                                                                                       > data.title(shapes)
                                                                                                                                                                                                       Error: could not find function "data.title"
                                                                                                                                                                                                       > data.frame(shapes)
                                                                                                                                                                                                       AREA  PERIMETER COUNTYP010 STATE                 COUNTY  FIPS STATE_FIPS SQUARE_MIL
                                                                                                                                                                                                       0  1.77530515  7.1642054        750    CA        Siskiyou County 06093         06   6347.387
                                                                                                                                                                                                       1  0.28402968  3.0286819        763    CA       Del Norte County 06015         06   1013.179
                                                                                                                                                                                                       2  1.17502515  4.5393322        767    CA           Modoc County 06049         06   4201.326
                                                                                                                                                                                                       3  0.98917598  5.9736123        863    CA        Humboldt County 06023         06   3584.422
                                                                                                                                                                                                       4  0.88423997  6.0648607        886    CA         Trinity County 06105         06   3206.456
                                                                                                                                                                                                       5  1.30164242  5.9735602        913    CA          Lassen County 06035         06   4718.470
                                                                                                                                                                                                       6  1.06266362  5.5475685        914    CA          Shasta County 06089         06   3847.073
                                                                                                                                                                                                       7  0.81034297  4.9747427       1091    CA          Tehama County 06103         06   2961.163
                                                                                                                                                                                                       8  0.71381273  5.2001192       1092    CA          Plumas County 06063         06   2612.985
                                                                                                                                                                                                       9  0.45644785  4.1346054       1155    CA           Butte County 06007         06   1678.974
                                                                                                                                                                                                       10 0.95222951  5.5041586       1182    CA       Mendocino County 06045         06   3513.883
                                                                                                                                                                                                       11 0.35942431  3.2688815       1230    CA           Glenn County 06021         06   1323.305
                                                                                                                                                                                                       12 0.25930987  2.9485006       1237    CA          Sierra County 06091         06    955.009
                                                                                                                                                                                                       13 0.17447612  2.7774583       1272    CA            Yuba County 06115         06    645.409
                                                                                                                                                                                                       14 0.35916993  3.5921766       1284    CA            Lake County 06033         06   1331.757
                                                                                                                                                                                                       15 0.26464660  3.4472820       1310    CA          Nevada County 06057         06    978.517
                                                                                                                                                                                                       16 0.31286052  3.1071708       1326    CA          Colusa County 06011         06   1158.861
                                                                                                                                                                                                       17 0.40400615  4.2404053       1350    CA          Placer County 06061         06   1498.782
                                                                                                                                                                                                       18 0.16409151  2.7226304       1355    CA          Sutter County 06101         06    608.991
                                                                                                                                                                                                       19 0.48020689  3.6796268       1415    CA       El Dorado County 06017         06   1788.512
                                                                                                                                                                                                       20 0.19820750  2.1148759       1446    CA          Alpine County 06003         06    740.072
                                                                                                                                                                                                       21 0.27459938  3.3014944       1449    CA            Yolo County 06113         06   1024.031
                                                                                                                                                                                                       22 0.21010479  2.8566215       1463    CA            Napa County 06055         06    785.442
                                                                                                                                                                                                       23 0.42537754  3.7145095       1466    CA          Sonoma County 06097         06   1589.751
                                                                                                                                                                                                       24 0.26348841  3.3613843       1493    CA      Sacramento County 06067         06    985.735
                                                                                                                                                                                                       25 0.83019131  5.5583156       1498    CA            Mono County 06051         06   3127.608
                                                                                                                                                                                                       26 0.16046295  2.8282503       1501    CA          Amador County 06005         06    600.367
                                                                                                                                                                                                       27 0.22476569  3.6340462       1540    CA          Solano County 06095         06    842.859
                                                                                                                                                                                                       28 0.27608519  2.8902545       1553    CA       Calaveras County 06009         06   1036.348
                                                                                                                                                                                                       29 0.60523793  4.8853441       1570    CA        Tuolumne County 06109         06   2277.323
                                                                                                                                                                                                       30 0.13998588  3.4170035       1591    CA           Marin County 06041         06    526.414
                                                                                                                                                                                                       31 0.37898717  3.3395276       1593    CA     San Joaquin County 06077         06   1427.799
                                                                                                                                                                                                       32 0.19470327  3.0420085       1650    CA    Contra Costa County 06013         06    733.711
                                                                                                                                                                                                       33 0.39948150  3.6396951       1656    CA      Stanislaus County 06099         06   1512.528
                                                                                                                                                                                                       34 0.19686576  3.1951783       1699    CA         Alameda County 06001         06    744.536
                                                                                                                                                                                                       35 0.38670302  3.3368131       1703    CA        Mariposa County 06043         06   1463.714
                                                                                                                                                                                                       36 0.01272641  0.8166778       1714    CA   San Francisco County 06075         06     48.060
                                                                                                                                                                                                       37 0.56578262  4.7803809       1726    CA          Madera County 06039         06   2151.796
                                                                                                                                                                                                       38 0.11950292  2.3564298       1748    CA       San Mateo County 06081         06    453.282
                                                                                                                                                                                                       39 0.51855889  3.4360897       1761    CA          Merced County 06047         06   1972.821
                                                                                                                                                                                                       40 1.57111213  8.7037902       1779    CA          Fresno County 06019         06   6010.780
                                                                                                                                                                                                       41 0.34163333  3.3734115       1798    CA     Santa Clara County 06085         06   1299.080
                                                                                                                                                                                                       42 2.66383545  8.7337475       1809    CA            Inyo County 06027         06  10223.468
                                                                                                                                                                                                       43 0.11761913  2.1759099       1858    CA      Santa Cruz County 06087         06    448.274
                                                                                                                                                                                                       44 0.36350954  3.4952907       1927    CA      San Benito County 06069         06   1393.479
                                                                                                                                                                                                       45 0.86008315  6.0441747       1944    CA        Monterey County 06053         06   3313.216
                                                                                                                                                                                                       46 1.25893424  5.2986600       1966    CA          Tulare County 06107         06   4849.511
                                                                                                                                                                                                       47 0.35947397  2.8595559       2036    CA           Kings County 06031         06   1387.258
                                                                                                                                                                                                       48 5.13037571 10.4096546       2160    CA  San Bernardino County 06071         06  20097.792
                                                                                                                                                                                                       49 0.85050602  5.9646641       2161    CA San Luis Obispo County 06079         06   3310.169
                                                                                                                                                                                                       50 2.09459432  7.2200159       2162    CA            Kern County 06029         06   8156.498
                                                                                                                                                                                                       51 0.70084996  6.2740939       2283    CA   Santa Barbara County 06083         06   2751.192
                                                                                                                                                                                                       52 0.47163137  3.7598259       2324    CA         Ventura County 06111         06   1856.170
                                                                                                                                                                                                       53 1.03496598  7.6075616       2334    CA     Los Angeles County 06037         06   4079.506
                                                                                                                                                                                                       54 1.84350617  7.9365313       2461    CA       Riverside County 06065         06   7316.183
                                                                                                                                                                                                       55 0.20078928  2.6234849       2489    CA          Orange County 06059         06    797.156
                                                                                                                                                                                                       56 1.06083808  5.9299186       2551    CA       San Diego County 06073         06   4243.426
                                                                                                                                                                                                       57 1.12391091  5.0328825       2566    CA        Imperial County 06025         06   4495.635
                                                                                                                                                                                                       > plot(shapes)
                                                                                                                                                                                                       > #49
                                                                                                                                                                                                         > plot(shapes, col=rainbow(100))
                                                                                                                                                                                                       > map_data <- data.frame(shapes)
                                                                                                                                                                                                       > head(map_data)
                                                                                                                                                                                                       AREA PERIMETER COUNTYP010 STATE           COUNTY  FIPS STATE_FIPS SQUARE_MIL
                                                                                                                                                                                                       0 1.7753051  7.164205        750    CA  Siskiyou County 06093         06   6347.387
                                                                                                                                                                                                       1 0.2840297  3.028682        763    CA Del Norte County 06015         06   1013.179
                                                                                                                                                                                                       2 1.1750252  4.539332        767    CA     Modoc County 06049         06   4201.326
                                                                                                                                                                                                       3 0.9891760  5.973612        863    CA  Humboldt County 06023         06   3584.422
                                                                                                                                                                                                       4 0.8842400  6.064861        886    CA   Trinity County 06105         06   3206.456
                                                                                                                                                                                                       5 1.3016424  5.973560        913    CA    Lassen County 06035         06   4718.470
                                                                                                                                                                                                       > y2010 <- subset(data,year == 2010)
                                                                                                                                                                                                       > head(y2010)
                                                                                                                                                                                                       county totalpop  pctwhite    pctblack    pctamind    pctasian   pctother pcthispanic
                                                                                                                                                                                                       1   Alameda  1510271 0.3407064 0.121915868 0.002773674 0.266478665 0.04307373  0.22505166
                                                                                                                                                                                                       2    Alpine     1175 0.7251064 0.000000000 0.178723404 0.005957447 0.01872340  0.07148936
                                                                                                                                                                                                       3    Amador    38091 0.7961198 0.024625240 0.014360348 0.012050091 0.02798561  0.12485889
                                                                                                                                                                                                       4     Butte   220000 0.7518909 0.014240909 0.015431818 0.042372727 0.03462727  0.14143636
                                                                                                                                                                                                       5 Calaveras    45578 0.8353592 0.007788845 0.011540656 0.013164246 0.02896134  0.10318575
                                                                                                                                                                                                       6    Colusa    21419 0.3979644 0.007843503 0.013819506 0.015220132 0.01405294  0.55109949
                                                                                                                                                                                                       year fips asian_pop hispanic_pop black_pop white_pop
                                                                                                                                                                                                       1 2010 6001    402455       339889    184126    514559
                                                                                                                                                                                                       2 2010 6003         7           84         0       852
                                                                                                                                                                                                       3 2010 6005       459         4756       938     30325
                                                                                                                                                                                                       4 2010 6007      9322        31116      3133    165416
                                                                                                                                                                                                       5 2010 6009       600         4703       355     38074
                                                                                                                                                                                                       6 2010 6011       326        11804       168      8524
                                                                                                                                                                                                       > y2010 <- subset(data,year == 2010, n=2)
                                                                                                                                                                                                       > y2010 <- subset(data,year == 2010)
                                                                                                                                                                                                       > head(y2010, n=2)
                                                                                                                                                                                                       county totalpop  pctwhite  pctblack    pctamind    pctasian   pctother pcthispanic year
                                                                                                                                                                                                       1 Alameda  1510271 0.3407064 0.1219159 0.002773674 0.266478665 0.04307373  0.22505166 2010
                                                                                                                                                                                                       2  Alpine     1175 0.7251064 0.0000000 0.178723404 0.005957447 0.01872340  0.07148936 2010
                                                                                                                                                                                                       fips asian_pop hispanic_pop black_pop white_pop
                                                                                                                                                                                                       1 6001    402455       339889    184126    514559
                                                                                                                                                                                                       2 6003         7           84         0       852
                                                                                                                                                                                                       > head(map_data, n=2)
                                                                                                                                                                                                       AREA PERIMETER COUNTYP010 STATE           COUNTY  FIPS STATE_FIPS SQUARE_MIL
                                                                                                                                                                                                       0 1.7753051  7.164205        750    CA  Siskiyou County 06093         06   6347.387
                                                                                                                                                                                                       1 0.2840297  3.028682        763    CA Del Norte County 06015         06   1013.179
                                                                                                                                                                                                       > dim(y2010)
                                                                                                                                                                                                       [1] 58 14
                                                                                                                                                                                                       > dim(map_data)
                                                                                                                                                                                                       [1] 58  8
                                                                                                                                                                                                       > data$FIPS <- sprintf("%05d",data$fips)
                                                                                                                                                                                                       > head(y2010)
                                                                                                                                                                                                       county totalpop  pctwhite    pctblack    pctamind    pctasian   pctother pcthispanic
                                                                                                                                                                                                       1   Alameda  1510271 0.3407064 0.121915868 0.002773674 0.266478665 0.04307373  0.22505166
                                                                                                                                                                                                       2    Alpine     1175 0.7251064 0.000000000 0.178723404 0.005957447 0.01872340  0.07148936
                                                                                                                                                                                                       3    Amador    38091 0.7961198 0.024625240 0.014360348 0.012050091 0.02798561  0.12485889
                                                                                                                                                                                                       4     Butte   220000 0.7518909 0.014240909 0.015431818 0.042372727 0.03462727  0.14143636
                                                                                                                                                                                                       5 Calaveras    45578 0.8353592 0.007788845 0.011540656 0.013164246 0.02896134  0.10318575
                                                                                                                                                                                                       6    Colusa    21419 0.3979644 0.007843503 0.013819506 0.015220132 0.01405294  0.55109949
                                                                                                                                                                                                       year fips asian_pop hispanic_pop black_pop white_pop
                                                                                                                                                                                                       1 2010 6001    402455       339889    184126    514559
                                                                                                                                                                                                       2 2010 6003         7           84         0       852
                                                                                                                                                                                                       3 2010 6005       459         4756       938     30325
                                                                                                                                                                                                       4 2010 6007      9322        31116      3133    165416
                                                                                                                                                                                                       5 2010 6009       600         4703       355     38074
                                                                                                                                                                                                       6 2010 6011       326        11804       168      8524
                                                                                                                                                                                                       > match(map_data$FIPS,y2010$FIPS)
                                                                                                                                                                                                       [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       [31] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       > names(map_data)
                                                                                                                                                                                                       [1] "AREA"       "PERIMETER"  "COUNTYP010" "STATE"      "COUNTY"     "FIPS"       "STATE_FIPS"
                                                                                                                                                                                                       [8] "SQUARE_MIL"
                                                                                                                                                                                                       > match(map_data$FIPS,y2010$FIPS)
                                                                                                                                                                                                       [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       [31] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       > names(map_data)
                                                                                                                                                                                                       [1] "AREA"       "PERIMETER"  "COUNTYP010" "STATE"      "COUNTY"     "FIPS"       "STATE_FIPS"
                                                                                                                                                                                                       [8] "SQUARE_MIL"
                                                                                                                                                                                                       > match(map_data$FIPS,y2010$FIPS)
                                                                                                                                                                                                       [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       [31] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       > names(map_data)
                                                                                                                                                                                                       [1] "AREA"       "PERIMETER"  "COUNTYP010" "STATE"      "COUNTY"     "FIPS"       "STATE_FIPS"
                                                                                                                                                                                                       [8] "SQUARE_MIL"
                                                                                                                                                                                                       > names(y2010)
                                                                                                                                                                                                       [1] "county"       "totalpop"     "pctwhite"     "pctblack"     "pctamind"     "pctasian"    
                                                                                                                                                                                                       [7] "pctother"     "pcthispanic"  "year"         "fips"         "asian_pop"    "hispanic_pop"
                                                                                                                                                                                                       [13] "black_pop"    "white_pop"   
                                                                                                                                                                                                       > match(map_data$FIPS,y2010$FIPS)
                                                                                                                                                                                                       [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       [31] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA
                                                                                                                                                                                                       > y2010$FIPS <- sprintf("%05d",y2010$fips)
                                                                                                                                                                                                       > head(y2010)
                                                                                                                                                                                                       county totalpop  pctwhite    pctblack    pctamind    pctasian   pctother pcthispanic
                                                                                                                                                                                                       1   Alameda  1510271 0.3407064 0.121915868 0.002773674 0.266478665 0.04307373  0.22505166
                                                                                                                                                                                                       2    Alpine     1175 0.7251064 0.000000000 0.178723404 0.005957447 0.01872340  0.07148936
                                                                                                                                                                                                       3    Amador    38091 0.7961198 0.024625240 0.014360348 0.012050091 0.02798561  0.12485889
                                                                                                                                                                                                       4     Butte   220000 0.7518909 0.014240909 0.015431818 0.042372727 0.03462727  0.14143636
                                                                                                                                                                                                       5 Calaveras    45578 0.8353592 0.007788845 0.011540656 0.013164246 0.02896134  0.10318575
                                                                                                                                                                                                       6    Colusa    21419 0.3979644 0.007843503 0.013819506 0.015220132 0.01405294  0.55109949
                                                                                                                                                                                                       year fips asian_pop hispanic_pop black_pop white_pop  FIPS
                                                                                                                                                                                                       1 2010 6001    402455       339889    184126    514559 06001
                                                                                                                                                                                                       2 2010 6003         7           84         0       852 06003
                                                                                                                                                                                                       3 2010 6005       459         4756       938     30325 06005
                                                                                                                                                                                                       4 2010 6007      9322        31116      3133    165416 06007
                                                                                                                                                                                                       5 2010 6009       600         4703       355     38074 06009
                                                                                                                                                                                                       6 2010 6011       326        11804       168      8524 06011
                                                                                                                                                                                                       > match(map_data$FIPS,y2010$FIPS)
                                                                                                                                                                                                       [1] 47  8 25 12 53 18 45 52 32  4 23 11 46 58 17 29  6 31 51  9  2 57 28 49 34 26  3 48  5 55
                                                                                                                                                                                                       [31] 21 39  7 50  1 22 38 20 41 24 10 43 14 44 35 27 54 16 36 40 15 42 56 19 33 30 37 13
                                                                                                                                                                                                       > match_order <- match(map_data$FIPS,data$FIPS)
                                                                                                                                                                                                       > data$pcthispanic
                                                                                                                                                                                                       [1] 0.22505166 0.07148936 0.12485889 0.14143636 0.10318575 0.55109949 0.24361669 0.17801468
                                                                                                                                                                                                       [9] 0.12081764 0.50305766 0.37475997 0.09813331 0.80371631 0.19395018 0.49192205 0.50898799
                                                                                                                                                                                                       [17] 0.17146834 0.17529732 0.47744960 0.53685083 0.15478450 0.09183059 0.22204893 0.54921362
                                                                                                                                                                                                       [25] 0.13855049 0.26489227 0.55414798 0.32245538 0.08544611 0.33650994 0.12831772 0.08022192
                                                                                                                                                                                                       [33] 0.45452976 0.21581519 0.56425844 0.49191238 0.32027391 0.15122790 0.38864536 0.20758650
                                                                                                                                                                                                       [41] 0.25402150 0.42861322 0.26897098 0.32049455 0.08395073 0.08302469 0.10278396 0.24037122
                                                                                                                                                                                                       [49] 0.24888505 0.41919864 0.28764896 0.21911980 0.06956332 0.60623639 0.10689063 0.40272046
                                                                                                                                                                                                       [57] 0.30347674 0.25016977 0.18972239 0.07781457 0.08905983 0.10502975 0.06818070 0.46543289
                                                                                                                                                                                                       [65] 0.17682670 0.13920093 0.09319318 0.43987105 0.29637470 0.06489195 0.72222730 0.12577320
                                                                                                                                                                                                       [73] 0.38394607 0.43612362 0.11385892 0.13837649 0.44564160 0.44281897 0.11060338 0.07758319
                                                                                                                                                                                                       [81] 0.16475975 0.45340388 0.11514446 0.17692368 0.46786157 0.23669325 0.05651234 0.30762126
                                                                                                                                                                                                       [89] 0.09669524 0.05652132 0.36209377 0.16010638 0.47931773 0.39158400 0.26688329 0.14098023
                                                                                                                                                                                                       [97] 0.30531159 0.16294729 0.21877338 0.34222869 0.23975074 0.26794000 0.05511589 0.05991561
                                                                                                                                                                                                       [105] 0.07570935 0.17640201 0.17337238 0.31738692 0.22208286 0.15830047 0.03970204 0.50770472
                                                                                                                                                                                                       [113] 0.08155814 0.33422066 0.25914265 0.17351666 0.14212598 0.06648697 0.08389094 0.07470898
                                                                                                                                                                                                       [121] 0.05356585 0.33327189 0.11357268 0.10289855 0.06966150 0.35451318 0.19993548 0.04188284
                                                                                                                                                                                                       [129] 0.65812466 0.08402166 0.27967145 0.34050794 0.07175446 0.10446409 0.37810899 0.34510160
                                                                                                                                                                                                       [137] 0.07792400 0.04873444 0.10265729 0.32570641 0.07243232 0.11309763 0.33619187 0.14391730
                                                                                                                                                                                                       [145] 0.04163801 0.23431441 0.08027385 0.04594964 0.26273973 0.11673241 0.45780309 0.26691155
                                                                                                                                                                                                       [153] 0.20447467 0.13911976 0.23442871 0.13318628 0.17645157 0.26568418 0.21004863 0.20370080
                                                                                                                                                                                                       [161] 0.03843957 0.05545509 0.05855597 0.13370797 0.10618409 0.21833252 0.16443375 0.10325441
                                                                                                                                                                                                       [169] 0.03299395 0.38757570 0.07689450 0.26449592 0.19974201 0.11554579 0.11757234 0.03828624
                                                                                                                                                                                                       [177] 0.04747851 0.05242925 0.04398841 0.19490267 0.08504220 0.05588187 0.04627558 0.29301175
                                                                                                                                                                                                       [185] 0.11859485 0.03442874 0.55785474 0.06057558 0.21589773 0.26888443 0.05175164 0.06541711
                                                                                                                                                                                                       [193] 0.27630922 0.26801445 0.04135365 0.04537270 0.05526087 0.25307669 0.04134727 0.04721931
                                                                                                                                                                                                       [201] 0.25866948 0.08705733 0.02966405 0.14815422 0.07003164 0.03667820 0.18761064 0.09464233
                                                                                                                                                                                                       [209] 0.45710858 0.18531848 0.14779794 0.12279263 0.19164109 0.09516518 0.12486868 0.18532679
                                                                                                                                                                                                       [217] 0.17497960 0.14695362 0.02985784 0.06378132 0.04759388 0.10532604 0.06948722 0.15001504
                                                                                                                                                                                                       [225] 0.11671707 0.05469554 0.02690167 0.29827703 0.05249352 0.21390318 0.17060349 0.08780890
                                                                                                                                                                                                       [233] 0.25044775 0.08443257 0.16583961 0.17202475 0.14275364 0.56971727 0.26989979 0.19736843
                                                                                                                                                                                                       [241] 0.15188468 0.53587991 0.41646261 0.12012988 0.78545314 0.22175544 0.52311698 0.51256530
                                                                                                                                                                                                       [249] 0.20527758 0.18755640 0.51349034 0.58478092 0.18921343 0.13902369 0.25991151 0.56680673
                                                                                                                                                                                                       [257] 0.16553667 0.30681969 0.63396831 0.37474030 0.12061951 0.37135701 0.16506717 0.12823852
                                                                                                                                                                                                       [265] 0.47287215 0.23083696 0.65094765 0.50488796 0.35311885 0.16406998 0.40585376 0.25190586
                                                                                                                                                                                                       [273] 0.28118987 0.48176731 0.29116464 0.37287121 0.11667616 0.09599323 0.13100383 0.25856503
                                                                                                                                                                                                       [281] 0.27434684 0.44664154 0.31579773 0.25556308 0.10568797 0.62580037 0.13744526 0.44517969
                                                                                                                                                                                                       [289] 0.31914641 0.27467194
                                                                                                                                                                                                       > data$pcthispanic[match_order]
                                                                                                                                                                                                       [1] 0.10278396 0.17801468 0.13855049 0.09813331 0.06956332 0.17529732 0.08395073 0.21911980
                                                                                                                                                                                                       [9] 0.08022192 0.14143636 0.22204893 0.37475997 0.08302469 0.25016977 0.17146834 0.08544611
                                                                                                                                                                                                       [17] 0.55109949 0.12831772 0.28764896 0.12081764 0.07148936 0.30347674 0.32245538 0.24888505
                                                                                                                                                                                                       [25] 0.21581519 0.26489227 0.12485889 0.24037122 0.10318575 0.10689063 0.15478450 0.38864536
                                                                                                                                                                                                       [33] 0.24361669 0.41919864 0.22505166 0.09183059 0.15122790 0.53685083 0.25402150 0.54921362
                                                                                                                                                                                                       [41] 0.50305766 0.26897098 0.19395018 0.32049455 0.56425844 0.55414798 0.60623639 0.50898799
                                                                                                                                                                                                       [49] 0.49191238 0.20758650 0.49192205 0.42861322 0.40272046 0.47744960 0.45452976 0.33650994
                                                                                                                                                                                                       [57] 0.32027391 0.80371631
                                                                                                                                                                                                       > map_data$pctHispanic2010 <- data$pcthispanic[match_order]
                                                                                                                                                                                                       > hist(map_data$pctHispanic2010)
                                                                                                                                                                                                       > map_breaks <- c(0, .1, .2, .3, .4, 1)
                                                                                                                                                                                                       > buckets <- cut(map_data$pctHispanic2010,breaks=map_breaks)
                                                                                                                                                                                                       > numeric_buckets <- as.numeric(buckets)